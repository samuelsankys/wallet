generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Events {
    id        String   @id @default(uuid()) @db.Uuid
    timestamp DateTime
    wallet_id String   @db.Uuid
    type      String
    amount    Decimal? @db.Decimal(15, 2)
    source    String
    metadata  String?

    @@map("events")
}

model Transactions {
    id                 String   @id @default(uuid()) @db.Uuid
    wallet_id          String   @db.Uuid
    event_id           String   @db.Uuid
    type               String?
    amount             Decimal? @db.Decimal(15, 2)
    after_balance      Decimal? @db.Decimal(15, 2)
    status             String?
    external_reference String?
    failing_reason     String?
    is_sync            Boolean  @default(false)

    created_at DateTime @default(now())
    updated_at DateTime @default(now()) @updatedAt

    @@map("transactions")
}
